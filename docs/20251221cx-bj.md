我想把pdf_to_anki中的pdf_to_anki\src中的pdf转为知识点的这个功能移植到这个99AI-ANKI中，首先这个功能有3个，pdf_to_anki\src\API_README.md中已经定义好了，1.生成笔记2.生成anki卡片3.重置某页重新生成笔记。我想把这三个作为单独的功能，首先加第一个生成笔记的功能，其他的不要管，专心这一个。
首先在chat端，我希望这个（生成笔记）功能是类似于“图表”，“联网”，“深度思考”按钮（准备个小图标），选中后左上角默认不选模型，与左上角的模型无关，注意点击后和取消点击的交互。用户需要选择知识库中的一个文档，选择生成笔记的范围（选择起始页码和结束页码，如果不设置默认为所有页）。用户点击发送后这个应该是一个异步的任务，因为时间比较长，可能是几分钟或者几小时都有可能，所以应该用户有个进度条一样（等待动画，可以显示让用户让用户做其他的事，完成了会通知的）的等待笔记完成，用户可以点击刷新查看最新进度，还有当前消耗的普通点数，还有预计这个文档需要消耗的普通点数（假设100页50-100点），不点就默认一分钟更新一下。（用户可以退出这个界面或者开个新对话都不影响当前的笔记生成），如果生成失败，比如用户点数不够，或者是服务器的失败，都可以告诉用户这个不影响，因为是可以断点续传的，保证了用户点数不会被浪费。还有就是不允许中断任务。生成笔记完成后，用户可以下载笔记，ai给用户2个对话框，每个对话框里面是笔记的1个文件(markdown-markmap，word)，单击即可下载.让用户自己选择。